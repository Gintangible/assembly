!function(t){var i=function(){var t=function(t,i){return Math.random()*(i-t)+t},i=function(t){return t/180*Math.PI};return{random:t,degreesToRads:i}}(),s=(function(){var i=t(".control-btn"),h=t("body");i.on("click",function(){h.toggleClass("drawer")}),t(".shape span").each(function(i,h){t(h).on("click",function(){t(this).addClass("cur").siblings().removeClass("cur"),s.canvasDraw()})}),t(".message, .gra, .dur, .time, .rad, .res").on("input",function(){s.canvasDraw()})}(),function(){function s(){var i={};return i.type=t(".shape span.cur").attr("data-shape")||"ball",i.msg=t(".message").val()||"â¤",i.gra=t(".gra").val()||0,i.dur=t(".dur").val()||.2,i.durTime=t(".time").val()||.1,i.rad=t(".rad").val()||2,i.res=t(".res").val()||7,i.colors=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722"],i}function h(t,s,h){this.x=t,this.y=s,this.base=[t,s],this.type=h.type,colors=h.colors,this.color=colors[Math.floor(Math.random()*colors.length)],this.rad=+h.rad,this.sSize=1.1,this.eSize=i.random(this.rad,this.rad+3),this.durVal=+h.dur/2,this.vx=Math.floor(i.random(0,r)),this.vy=Math.floor(i.random(0,o)),this.angle=Math.atan2(this.vy-this.y,this.vx-this.x),this.spd=this.getDistance()/+h.durTime/60}function a(){var t=s(),i=gridY=+t.res,a=100,c=[];e.width=r,e.height=o,n.textAlign="center",n.font=a+"px arial",n.fillText(t.msg,r/2,o/2);for(var l=n.getImageData(0,0,r,o),d=new Uint32Array(l.data.buffer),v=0;o>v;v+=gridY)for(var u=0;r>u;u+=i)if(d[v*r+u]){var y=new h(u,v,t);c.push(y)}!function g(){window.requestAnimationFrame(g,e),n.clearRect(0,0,r,o);var t=0;for(len=1;t<len;t++)c[t].update()}()}var e=t(".canvas").get(0),n=e.getContext("2d"),r=t(".content").innerWidth()||400,o=t(".content").innerHeight()||200;return h.prototype={constructor:h,getType:function(t){"ball"===t&&(n.save(),n.fillStyle=this.color,n.beginPath(),n.arc(this.vx,this.vy,this.sSize,0,2*Math.PI,!1),n.closePath(),n.fill(),n.restore()),"rect"===t&&(n.save(),n.fillStyle=this.color,n.beginPath(),n.fillRect(this.vx,this.vy,this.sSize,this.sSize),n.closePath(),n.fill(),n.restore())},drawLove:function(t,i,s){for(var h=[],a=0;50>a;a++){var e=a/50*(2*Math.PI),n={x:s*(16*Math.pow(Math.sin(e),3)),y:s*(13*Math.cos(e)-5*Math.cos(2*e)-2*Math.cos(3*e)-Math.cos(4*e))};h.push(n)}return h},getDistance:function(){return Math.sqrt((this.vy-this.y)*(this.vy-this.y)+(this.vx-this.x)*(this.vx-this.x))},update:function(){this.dyingX||(this.vx>=this.base[0]?(this.vx-=this.spd*Math.cos(this.angle),this.vx<=this.x&&(this.dyingX=!0,this.vx=this.x)):(this.vx-=this.spd*Math.cos(this.angle),this.vx>=this.x&&(this.dyingX=!0,this.vx=this.x))),this.dyingY||(this.vy>=this.base[1]?(this.vy-=this.spd*Math.sin(this.angle),this.vy<=this.y&&(this.dyingY=!0,this.vy=this.y)):(this.vy-=this.spd*Math.sin(this.angle),this.vy>=this.y&&(this.dyingY=!0,this.vy=this.y))),this.sSize<this.eSize&&this.dyingS===!1?this.sSize+=this.durVal:this.dyingS=!0,this.dyingS&&(this.sSize-=this.durVal),this.sSize<1&&(this.dyingS=!1),this.getType(this.type)}},a(),t(window).on("resize",a),{canvasDraw:a}}())}($);