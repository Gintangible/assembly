!function(t){var s=function(){var t=function(t,s){return Math.random()*(s-t)+t},s=function(t){return t/180*Math.PI};return{random:t,degreesToRads:s}}(),i=(function(){var s=t(".control-btn"),e=t(".control-box");s.on("click",function(){e.toggleClass("drawer")}),t(".shape span").each(function(s,e){t(e).on("click",function(){t(this).addClass("cur").siblings().removeClass("cur"),i.canvasDraw()})}),t(".message, .gra, .dur, .speed, .rad, .res").on("input",function(){i.canvasDraw()})}(),function(){function i(){var s={};return s.width=t(".content").innerWidth(),s.height=t(".content").innerHeight(),s.type=t(".shape span.cur").attr("data-shape"),s.msg=t(".message").val()||"‚ù§",s.gra=t(".gra").val(),s.dur=t(".dur").val(),s.speed=t(".speed").val(),s.rad=t(".rad").val(),s.res=t(".res").val(),s.colors=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722"],s}function e(t,i,e){this.x=t,this.y=i,this.base=[t,i],this.type=e.type,radVal=e.rad,graVal=e.gra,colors=e.colors,this.sAngle=1.1,this.eAngle=s.random(radVal,radVal+3),this.rebond=s.random(1,5),this.vx=0,this.vy=0,this.friction=.99,this.gravity=graVal,this.color=colors[Math.floor(Math.random()*colors.length)],this.getDistance=function(){return Math.sqrt(this.vx*this.vx+this.vy*this.vy)},this.setAngle=function(t){var s=this.getAngle();this.vx=Math.cos(s)*t,this.vy=Math.sin(s)*t},this.getAngle=function(){return Math.atan2(this.vy,this.vx)},this.setHeading=function(t){var s=this.getSpeed();this.vx=Math.cos(t)*s,this.vy=Math.sin(t)*s},this.update=function(t){this.x+=this.vx,this.y+=this.vy,this.vy+=graVal,this.vx*=this.friction,this.vy*=this.friction,this.sAngle<this.eAngle?this.sAngle+=durVal:this.sAngle-=durVal,(this.y<0||this.sAngle<1)&&(this.x=this.base[0],this.y=this.base[1],this.setSpeed(spdVal),this.futurRadius=utils.randomInt(radVal,radVal+3),this.setHeading(utils.randomInt(utils.degreesToRads(0),utils.degreesToRads(360))))},this.setSpeed(s.random(.1,.5)),this.setHeading(s.random(s.degreesToRads(0),s.degreesToRads(360)))}function a(){var t=i(),s=t.width,a=t.height,o=gridY=t.res,l=[];n.width=s,n.height=a,r.textAlign="center",r.font=h+"px arial",r.fillText(t.msg,s/2,a/2);for(var d=r.getImageData(0,0,s,a),c=new Uint32Array(d.data.buffer),g=0;a>g;g+=gridY)for(var u=0;s>u;u+=o)if(c[g*s+u]){var v=new e(u,g,t);l.push(v)}}var n=t(".canvas").get(0),r=n.getContext("2d"),h=100;return e.prototype={constructor:e,init:function(){},getType:function(t){"ball"===t&&(r.save(),r.fillStyle=this.color,r.beginPath(),r.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),r.closePath(),r.fill(),r.restore()),"rect"===t&&(r.save(),r.fillStyle=this.color,r.beginPath(),r.fillRect(this.x,this.y,this.eAngle,this.eAngle),r.closePath(),r.fill(),r.restore())}},a(),t(window).on("resize",a),{canvasDraw:a}}())}($);