var Pagenation=function(t){this.conBox=null,this.pageBox=null,this.dataAry=[],this.pageAry=[],this.showPN=!0,this.ulCls="page-btn",this.activeCls="active",this.showArrow=!0,this.prevCls="prev",this.nextCls="next",this.prevContent="<",this.nextContent=">",this.jump=!0,this.jumpCls="jump",this.jumpBtnContent="Go",this.showDataCount=10,this.pageCount=10,this.showPageCount=4,this.curIndex=0,this.mode="default",this["interface"]=!1,this._init(t)};Pagenation.prototype={constructor:Pagenation,_analysisOptions:function(t){var e=this;Object.keys(t).forEach(function(n){e[n]=t[n]})},_getData:function(t){throw new Error("must set a _getData function")},_init:function(t){var e=this;this._analysisOptions(t),this._getData(function(t,n){e._dataInit(t,n)})},_dataInit:function(t,e){this._getLen(t.length,e),this._dataArySave(t),this._createElement(),this._render(0),this._bindEvent()},_getLen:function(t,e){e&&(this["interface"]=!0),this.pageCount=e||Math.ceil(t/this.showDataCount)},_dataArySave:function(t){if(this["interface"])this.dataAry[this.curIndex]=t;else for(var e=this.pageCount,n=this.showDataCount,i=0;e>i;i++)this.dataAry.push(t.slice(n*i,n*(i+1)))},_createElement:function(){this.showPN&&this._createPageControl(),this.showArrow&&(this._createPrev(),this._createNext()),this.jump&&this._createJump()},_createPageControl:function(){var t=this.pageBox,e=document.createElement("ul");e.className=this.ulCls,t.append(e),this._pageInit()},_createPrev:function(){var t=this,e=this.pageBox,n=document.createElement("a");n.className=this.prevCls,n.innerHTML=this.prevContent,n.addEventListener("click",function(){t.curIndex=t.curIndex-- >0?t.curIndex:0,t._render(t.curIndex)}),e.append(n)},_createNext:function(){var t=this,e=this.pageBox,n=document.createElement("a"),i=this.pageCount-1;n.className=this.nextCls,n.innerHTML=this.nextContent,n.addEventListener("click",function(){t.curIndex=t.curIndex++>=i?i:t.curIndex,t._render(t.curIndex)}),e.append(n)},_createJump:function(){var t=this,e=this.pageBox,n=document.createElement("div"),i=document.createElement("input"),a=document.createElement("a");n.className=this.jumpCls,a.innerHTML=this.jumpBtnContent,i.addEventListener("input",function(e){var n=this.value,i=/[^\d]/g;i.test(n)&&(this.value=n.replace(i,"")),n>t.pageCount&&(this.value=t.pageCount),0===parseInt(n)&&(this.value=1)}),a.addEventListener("click",function(){var e=i.value;e&&t._render(e-1)}),document.addEventListener("keydown",function(e){if(13==e.keyCode){var n=i.value;if(!n)return;t._render(n-1)}}),e.append(n),n.append(i),n.append(a)},_render:function(t){var e=this;return this.curIndex=t,this.dataAry[t]?(this._renderPageControl(t),this._renderContent(t),void("function"==typeof this._personEvents&&this._personEvents(this.curIndex,this.pageCount,this.dataAry))):void this._getData(function(n){e._dataArySave(n),e._render(t)})},_formatPageControl:function(t){return t+1},_pageInit:function(){var t=this.pageBox,e=t.find("ul"),n=this.pageCount,i="";if("default"===this.mode)for(var a=0;n>a;a++)i+="<li data-page="+a+">"+this._formatPageControl(a)+"</li>";e.html(i)},_renderPageControl:function(t){if(this.showPN){var e=this.pageBox,n=e.find("ul"),i=this.pageCount;switch(this.mode){case"fixed":var a=this.showPageCount,s=Math.ceil(a/2),r=0,o="";for(a>=i?a=i:t>=i-s-1?(t=a-(i-t),r=i-len):(r=t-s+1,t=s-1);a>r;r++)o+="<li data-page="+r+">"+this._formatPageControl(r)+"</li>";n.html(o);break;case"unfixed":break;case"personDesign":this._personDesign(this.pageCount)}this._btnStatus(t)}},_btnStatus:function(t){for(var e=this.activeCls,n=this.pageBox,i=n.find("ul a"),a=0,s=i.length;s>a;a++)i.eq(a).removeClass(e);i.eq(t).addClass(e)},_bindEvent:function(){var t=this,e=this.activeCls,n=this.pageBox,i=n.find("ul li");i.on("click",function(){var n=this.getAttribute("data-page");this.className.indexOf(e)>-1||n&&t._render(n)})},_personEvents:function(t,e,n){console.warn("可以设置定制事件")},_formatContent:function(t){var e="";for(var n in t)e+=t[n]+"<br/>";return e},_renderContent:function(t){var e=this,n=this.conBox,i=this.dataAry[t],a="";i.forEach(function(t){a+=e._formatContent(t)}),n.html(a)}};