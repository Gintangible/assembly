var Pagenation=function(t){this.dataAry=[],this.actClassName="active",this.prevClassName="prev",this.nextClassName="next",this.size=10,this.interfacePaging=!1,this.arrowBtn=!0,this.numBtn=!0,this.curIndex=0,this._analysisOptions(t),this._init()};Pagenation.prototype={constructor:Pagenation,_analysisOptions:function(t){var n=this;Object.keys(t).forEach(function(e){n[e]=t[e]})},_getData:function(t){throw new Error("must set a _getData function")},_init:function(){var t=this;this._getData(function(n,e){t._showInit(n),t.numBtn&&t._renderPageControl(e),t.arrowBtn&&(t._createPrev(),t._createNext())})},_showInit:function(t){var n=this;this._dataArySave(t,function(){n._conChange(n.curIndex)})},_conChange:function(t){var n=this;return this.curIndex=t,this.curIndex+1>this.dataAry.length?void this._getData(function(t){n._showInit(t)}):(this._pageBtnStatus(t),void this._renderContent(t))},_dataArySave:function(t,n){if(this.interfacePaging)this.dataAry.push(t);else for(var e=Math.ceil(t.length/this.size),a=this.size,i=0;e>i;i++)this.dataAry.push(t.slice(a*i,a*(i+1)));console.log(this.dataAry),n&&n()},_pageBtnStatus:function(t){var n=this.actClassName,e=this.controlEl,a=e.find("ul");a.find("li").eq(t).addClass(n).siblings().removeClass(n)},_formatPageControl:function(t){return t+1},_renderPageControl:function(t){for(var n,e=this,a=this.actClassName,i=this.controlEl,r=i.find("ul"),s=document.createDocumentFragment(),o=0,t=t||this.dataAry.length;t>o;o++)n=document.createElement("li"),n.innerHTML=e._formatPageControl(o),s.appendChild(n),$(n).addClass(0==o?a:""),function(t){n.addEventListener("click",function(){e._conChange(t)})}(o);r.html(s)},_createPrev:function(){var t=this,n=this.controlEl,e=document.createElement("span");e.className=this.prevClassName,e.innerHTML="上一页",e.addEventListener("click",function(){t.curIndex=t.curIndex-- >0?t.curIndex:0,t._conChange(t.curIndex)}),n.append(e)},_createNext:function(){var t=this,n=this.controlEl,e=document.createElement("span"),a=this.dataAry.length-1;e.className=this.nextClassName,e.innerHTML="下一页",e.addEventListener("click",function(){t.curIndex=t.curIndex++>=a?a:t.curIndex,t._conChange(t.curIndex)}),n.append(e)},_formatContent:function(t){return t},_renderContent:function(t){var n=this,e=this.conEl,a=this.dataAry[t],i="";a.forEach(function(t){i+=n._formatContent(t)}),e.html(i)}};var pagenation1=new Pagenation({conEl:$(".page-content"),controlEl:$(".control-wrapper"),size:2,_getData:function(t){$.ajax({type:"GET",url:"./data/data"+(this.curIndex+1)+".json",success:function(n){t&&t(n.list)}})},_formatPageControl:function(t){return t+1},_formatContent:function(t){return t.con+"<br/>"}});